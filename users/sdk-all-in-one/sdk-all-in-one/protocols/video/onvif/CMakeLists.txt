#generated by ONT
cmake_minimum_required(VERSION 2.8)

PROJECT(onvif CXX C)

set (ONT_SDK_ROOT ${CMAKE_CURRENT_SOURCE_DIR}/../../../)

include_directories(
${CMAKE_CURRENT_SOURCE_DIR} 
${CMAKE_CURRENT_SOURCE_DIR}/protocol
${CMAKE_CURRENT_SOURCE_DIR}/openssl-1.0.1g/include
${ONT_SDK_ROOT}/protocols/video/ont
${ONT_SDK_ROOT}/protocols/video/live/BasicUsageEnvironment/include
${ONT_SDK_ROOT}/protocols/video/live/groupsock/include
${ONT_SDK_ROOT}/protocols/video/live/liveMedia/include
${ONT_SDK_ROOT}/protocols/video/live/UsageEnvironment/include
)

add_definitions(-DWITH_OPENSSL)

if(MSVC)
    list(APPEND INC_LIST ${INC_TEMP})
    file(GLOB_RECURSE INC_TEMP FOLLOW_SYMLINKS ${CMAKE_CURRENT_SOURCE_DIR}/*.h)
    list(APPEND INC_LIST ${INC_TEMP})
endif(MSVC)

aux_source_directory(${CMAKE_CURRENT_SOURCE_DIR} SRC_LIST)
aux_source_directory(${CMAKE_CURRENT_SOURCE_DIR}/protocol SRC_LIST)

if(_STATIC)
    add_library(${ONVIF} STATIC
       ${SRC_LIST}
    )
else(_STATIC)
    add_library(${ONVIF} SHARED
       ${SRC_LIST}
    )
endif(_STATIC)